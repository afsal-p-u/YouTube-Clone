var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function l(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function f(){return d(" ")}function p(){return d("")}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}let y;function b(e){y=e}function $(){if(!y)throw new Error("Function called outside component initialization");return y}function w(e){$().$$.on_destroy.push(e)}function k(){const e=$();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}const x=[],_=[],S=[],T=[],E=Promise.resolve();let P=!1;function M(e){S.push(e)}const A=new Set;let B=0;function O(){const e=y;do{for(;B<x.length;){const e=x[B];B++,b(e),j(e.$$)}for(b(null),x.length=0,B=0;_.length;)_.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];A.has(t)||(A.add(t),t())}S.length=0}while(x.length);for(;T.length;)T.pop()();P=!1,A.clear(),b(e)}function j(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(M)}}const L=new Set;let N;function C(e,t){e&&e.i&&(L.delete(e),e.i(t))}function H(e,t,n,o){if(e&&e.o){if(L.has(e))return;L.add(e),N.c.push((()=>{L.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}function z(e){e&&e.c()}function I(e,n,c,s){const{fragment:l,on_mount:i,on_destroy:a,after_update:u}=e.$$;l&&l.m(n,c),s||M((()=>{const n=i.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]})),u.forEach(M)}function F(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(x.push(e),P||(P=!0,E.then(O)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function q(t,r,c,s,l,i,u,d=[-1]){const f=y;b(t);const p=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||f.$$.root};u&&u(p.root);let h=!1;if(p.ctx=c?c(t,r.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),h&&J(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&C(t.$$.fragment),I(t,r.target,r.anchor,r.customElement),O()}b(f)}class R{$destroy(){F(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const W=(()=>{if("undefined"==typeof window)return{};const e=window?.document?.getElementById("js-shared")?.getAttribute("data");if(!e)return{};try{return JSON.parse(e)}catch(e){return{}}})();function Y(){if(document.cookie){let e=document.cookie.split(";").map((e=>e.trim())).map((e=>e.split("=")));const t={};for(let n=0;n<e.length;n+=1){let[o,r]=e[n];t[o]=r}return t}return{}}function K(){const e=new URL(window.location.href).searchParams.get("geoloc");if(e)return e;const t=Y();return t.geoloc?t.geoloc:function(){try{const e=document.getElementById("js-ask-location");if(!e)return;const t=JSON.parse(e.getAttribute("data"));return`${t.lat}x${t.long}`}catch{return}}()}function U({withGeoloc:e=!0}={}){const t=new URL(window.location.href),{reproducible_parameters:n={}}=W;for(const[e,o]of Object.entries(n))!1===t.searchParams.has(e)&&null!==o&&t.searchParams.set(e,o);const o=Y();for(const e of["spellcheck","safesearch","country","external"])!1===t.searchParams.has(e)&&void 0!==o[e]&&t.searchParams.set(e,o[e]);const r=function(){try{return document.documentElement.lang.slice(0,2)}catch{return"en"}}();if(!1===t.searchParams.has("search_lang")&&t.searchParams.set("search_lang",r),e){if(!1===t.searchParams.has("geoloc")){const e=K();e&&t.searchParams.set("geoloc",e)}}else t.searchParams.delete("geoloc");return t.searchParams.set("bypass_cache","1"),t.href}function D(e){return function(e,t){return fetch(e,{credentials:"omit",method:"POST",mode:"no-cors",body:JSON.stringify(t),referrerPolicy:"no-referrer",headers:{"Referrer-Policy":"no-referrer"}})}("/api/feedback",e)}function G(e){let t,n,r,c,l,d;const p=e[4].default,g=function(e,t,n,o){if(e){const r=s(e,t,n,o);return e[0](r)}}(p,e,e[3],null);return{c(){t=u("div"),n=f(),r=u("div"),g&&g.c(),m(t,"class","modal-background svelte-1a9nkpz"),m(r,"class","modal-js svelte-1a9nkpz"),m(r,"role","dialog"),m(r,"aria-modal","true")},m(o,s){i(o,t,s),i(o,n,s),i(o,r,s),g&&g.m(r,null),e[5](r),c=!0,l||(d=[h(window,"keydown",e[2]),h(t,"click",e[1])],l=!0)},p(e,[t]){g&&g.p&&(!c||8&t)&&function(e,t,n,o,r,c){if(r){const l=s(t,n,o,c);e.p(l,r)}}(g,p,e,e[3],c?function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(p,e[3],t,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[3]),null)},i(e){c||(C(g,e),c=!0)},o(e){H(g,e),c=!1},d(c){c&&a(t),c&&a(n),c&&a(r),g&&g.d(c),e[5](null),l=!1,o(d)}}}function Q(e,t,n){let{$$slots:o={},$$scope:r}=t;const c=k(),{disableScroll:s,enableScroll:l}=function(){let e,t,n;return{disableScroll:()=>{e=window.scrollY,t=document.body.style.position,n=document.body.style.overflow,document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.overflow="hidden"},enableScroll:()=>{document.body.style.position=t||"",document.body.style.top="",document.body.style.overflow=n||"",window.scrollTo(0,e)}}}(),i=()=>{l(),c("close")};let a;const u="undefined"!=typeof document&&document.activeElement;var d;return u&&w((()=>{u.focus()})),w((()=>{i()})),d=()=>{s()},$().$$.on_mount.push(d),e.$$set=e=>{"$$scope"in e&&n(3,r=e.$$scope)},[a,i,e=>{a&&"Escape"===e.key?i():function(e,t){if(e&&"Tab"===t.key){const n=e.querySelectorAll("*"),o=Array.from(n).filter((e=>e.tabIndex>=0));if(!o.length)return;let r=o.indexOf(document.activeElement);-1===r&&t.shiftKey&&(r=0),r+=o.length+(t.shiftKey?-1:1),r%=o.length,o[r].focus(),t.preventDefault()}}(a,e)},r,o,function(e){_[e?"unshift":"push"]((()=>{a=e,n(0,a)}))}]}class V extends R{constructor(e){super(),q(this,e,Q,G,c,{})}}const X={value:"helpful",type:"positive",label:"This is helpful"},Z={value:"irrelevant",type:"negative",label:"This isn't relevant"},ee={value:"wrong",type:"negative",label:"Something is wrong"},te={value:"not_useful",type:"negative",label:"This isn't useful"},ne={type:"negative",value:"wrong_location",label:"The location is wrong"},oe={generic:[X,Z,ee,te],qanda:[X,Z,ee,te],infobox:[X,Z,ee,te],locations:[X,Z,ne,te],weather:[X,{type:"negative",value:"wrong_weather",label:"The weather is wrong"},ne,te],currency:[X,{type:"negative",value:"wrong_currency",label:"The currency is wrong"},{type:"negative",value:"wrong_currency_rate",label:"The currency rate is wrong"},te],cryptocurrency:[X,{type:"negative",value:"wrong_currency",label:"The cryptocurrency is wrong"},{type:"negative",value:"wrong_cryptocurrency",label:"The cryptocurrency price is wrong"},te],timezones:[X,Z,{type:"negative",value:"wrong_timezone",label:"The times are wrong"},ne,te],unitConversion:[X,{type:"negative",value:"wrong_unit",label:"The unit is wrong"},te],stocks:[X,{type:"negative",value:"wrong_stock",label:"The stock is wrong"},{type:"negative",value:"wrong_stock_data",label:"The stock price is wrong"},te],faq:[X,Z,ee,te],formula1:[X,Z,ee],timer:[X,ee,te]};var re='<svg class="icon" xmlns="http://www.w3.org/2000/svg" width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" d="M12.232 1.844A1.08 1.08 0 0010.704.316L6.548 4.472 2.393.317A1.08 1.08 0 00.865 1.845L5.02 6 .865 10.155a1.08 1.08 0 101.528 1.528l4.155-4.155 4.156 4.156a1.08 1.08 0 101.528-1.528L8.076 6l4.156-4.156z" clip-rule="evenodd"/></svg>';function ce(e,t,n){const o=e.slice();return o[14]=t[n],o}function se(e){let t,n;return t=new V({props:{$$slots:{default:[ue]},$$scope:{ctx:e}}}),t.$on("close",e[7]),{c(){z(t.$$.fragment)},m(e,o){I(t,e,o),n=!0},p(e,n){const o={};131102&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){F(t,e)}}}function le(e){let t,n,o,r,c,s,p,v,y,b,$,w,k,x,_,S=e[1]["Thank you for your feedback!"]+"",T=e[1]["Your feedback helps us improve the Brave Search experience for everyone"]+"";return{c(){t=u("div"),n=u("div"),o=u("div"),r=f(),c=u("div"),s=u("div"),p=d(S),v=f(),y=u("div"),b=d(T),$=d("."),w=f(),k=u("div"),k.innerHTML='<img id="logo" src="https://cdn.search.brave.com/serp/v1/static/brand/a443569b91f221f0db8b3bee3124d3285513835087c5fa1eebbe16e8ec401c4e-brave-logo-embellished.svg" alt="brave-logo" class="svelte-197f400"/>',m(o,"class","icon-wrapper svelte-197f400"),m(n,"id","close"),m(n,"class","svelte-197f400"),m(s,"class","h5 mb-15 svelte-197f400"),m(c,"class","header svelte-197f400"),m(k,"class","feedback-footer mt-15 svelte-197f400"),m(t,"class","feedback-modal svelte-197f400")},m(a,u){i(a,t,u),l(t,n),l(n,o),o.innerHTML=re,l(t,r),l(t,c),l(c,s),l(s,p),l(c,v),l(c,y),l(y,b),l(y,$),l(t,w),l(t,k),x||(_=h(n,"click",e[7]),x=!0)},p(e,t){2&t&&S!==(S=e[1]["Thank you for your feedback!"]+"")&&g(p,S),2&t&&T!==(T=e[1]["Your feedback helps us improve the Brave Search experience for everyone"]+"")&&g(b,T)},d(e){e&&a(t),x=!1,_()}}}function ie(e){let t,n,r,c,s,p,y,b,$,w,k,x,_,S,T,E,P,M,A,B,O,j,L,N,C,H=e[1]["Help us improve Brave Search"]+"",z=e[1]["What do you think of the information shown?"]+"",I=e[1]["Comments or suggestions?"]+"",F=e[1].Submit+"",J=e[5],q=[];for(let t=0;t<J.length;t+=1)q[t]=ae(ce(e,J,t));return{c(){t=u("div"),n=u("div"),r=u("div"),c=f(),s=u("div"),p=u("div"),y=d(H),b=f(),$=u("div"),w=u("div"),k=d(z),x=f(),_=u("div");for(let e=0;e<q.length;e+=1)q[e].c();S=f(),T=u("div"),E=u("div"),P=d(I),M=f(),A=u("textarea"),B=f(),O=u("div"),j=u("button"),L=d(F),m(r,"class","icon-wrapper svelte-197f400"),m(n,"id","close"),m(n,"class","svelte-197f400"),m(p,"class","h5 mb-15 svelte-197f400"),m(s,"class","header svelte-197f400"),m(w,"class","h6 mb-0 svelte-197f400"),m(_,"class","form-group svelte-197f400"),m($,"class","structured-input svelte-197f400"),m(E,"class","h6 svelte-197f400"),m(A,"class","text-sm svelte-197f400"),m(A,"maxlength","8192"),m(T,"class","text-input svelte-197f400"),m(j,"class","btn btn--filled"),m(O,"class","feedback-footer mt-15 svelte-197f400"),m(t,"class","feedback-modal svelte-197f400")},m(o,a){i(o,t,a),l(t,n),l(n,r),r.innerHTML=re,l(t,c),l(t,s),l(s,p),l(p,y),l(t,b),l(t,$),l($,w),l(w,k),l($,x),l($,_);for(let e=0;e<q.length;e+=1)q[e].m(_,null);l(t,S),l(t,T),l(T,E),l(E,P),l(T,M),l(T,A),v(A,e[2]),l(t,B),l(t,O),l(O,j),l(j,L),N||(C=[h(n,"click",e[7]),h(A,"input",e[10]),h(j,"click",e[6])],N=!0)},p(e,t){if(2&t&&H!==(H=e[1]["Help us improve Brave Search"]+"")&&g(y,H),2&t&&z!==(z=e[1]["What do you think of the information shown?"]+"")&&g(k,z),42&t){let n;for(J=e[5],n=0;n<J.length;n+=1){const o=ce(e,J,n);q[n]?q[n].p(o,t):(q[n]=ae(o),q[n].c(),q[n].m(_,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=J.length}2&t&&I!==(I=e[1]["Comments or suggestions?"]+"")&&g(P,I),4&t&&v(A,e[2]),2&t&&F!==(F=e[1].Submit+"")&&g(L,F)},d(e){e&&a(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(q,e),N=!1,o(C)}}}function ae(e){let t,n,o,r,c,s,p,v,y,b=e[1][e[14].label]+"";function $(){return e[9](e[14])}return{c(){t=u("label"),n=u("input"),o=f(),r=u("i"),c=f(),s=d(b),p=f(),m(n,"type","radio"),m(n,"name","feedback"),m(r,"class","form-icon"),m(t,"class","form-radio svelte-197f400")},m(e,a){i(e,t,a),l(t,n),l(t,o),l(t,r),l(t,c),l(t,s),l(t,p),v||(y=h(t,"click",$),v=!0)},p(t,n){e=t,2&n&&b!==(b=e[1][e[14].label]+"")&&g(s,b)},d(e){e&&a(t),v=!1,y()}}}function ue(e){let t;function n(e,t){return e[4]?le:ie}let o=n(e),r=o(e);return{c(){r.c(),t=p()},m(e,n){r.m(e,n),i(e,t,n)},p(e,c){o===(o=n(e))&&r?r.p(e,c):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&a(t)}}}function de(e){let t,n,r=e[0]&&se(e);return{c(){r&&r.c(),t=p()},m(e,o){r&&r.m(e,o),i(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&C(r,1)):(r=se(e),r.c(),C(r,1),r.m(t.parentNode,t)):r&&(N={r:0,c:[],p:N},H(r,1,1,(()=>{r=null})),N.r||o(N.c),N=N.p)},i(e){n||(C(r),n=!0)},o(e){H(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function fe(e,t,n){let{optionSet:o}=t,{showModal:r}=t,{i18n:c={}}=t;const s=k();let l,i=oe[o],a="",u=!1;async function d(){const e={structuredFeedback:l,feedback:l.type,text:a,debug_url:U(),target:o};await async function(e){window.dispatchEvent(new Event("SearchFeedback"));try{await D({payload:e})}catch(e){console.log(e)}}(e)}return e.$$set=e=>{"optionSet"in e&&n(8,o=e.optionSet),"showModal"in e&&n(0,r=e.showModal),"i18n"in e&&n(1,c=e.i18n)},[r,c,a,l,u,i,async function(){await d(),n(4,u=!0)},function(){s("modalClosed"),n(4,u=!1)},o,e=>{n(3,l=e)},function(){a=this.value,n(2,a)}]}class pe extends R{constructor(e){super(),q(this,e,fe,de,c,{optionSet:8,showModal:0,i18n:1})}}function he(e){let t;function n(e,t){return"settings"===e[0].page||"default"===e[0].page?ge:"search"===e[0].page||"news"===e[0].page||"videos"===e[0].page?me:void 0}let o=n(e),r=o&&o(e);return{c(){t=u("div"),r&&r.c(),m(t,"class","h6 text-center mb-6 svelte-mpw268")},m(e,n){i(e,t,n),r&&r.m(t,null)},p(e,c){o===(o=n(e))&&r?r.p(e,c):(r&&r.d(1),r=o&&o(e),r&&(r.c(),r.m(t,null)))},d(e){e&&a(t),r&&r.d()}}}function me(e){let t,n=e[1]["How were the search results?"]+"";return{c(){t=d(n)},m(e,n){i(e,t,n)},p(e,o){2&o&&n!==(n=e[1]["How were the search results?"]+"")&&g(t,n)},d(e){e&&a(t)}}}function ge(t){let n;return{c(){n=d("Was this useful?")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}function ve(e){let t,n,o,r,c,s=e[1].Feedback+"";return{c(){t=u("div"),n=u("button"),o=d(s),m(n,"class","btn btn--text btn--sm"),m(t,"class","flex-hcenter")},m(s,a){i(s,t,a),l(t,n),l(n,o),r||(c=h(n,"click",e[4]),r=!0)},p(e,t){2&t&&s!==(s=e[1].Feedback+"")&&g(o,s)},d(e){e&&a(t),r=!1,c()}}}function ye(e){let t,n,o=e[1]["Thank you!"]+"";return{c(){t=u("div"),n=d(o),m(t,"class","h6 svelte-mpw268")},m(e,o){i(e,t,o),l(t,n)},p(e,t){2&t&&o!==(o=e[1]["Thank you!"]+"")&&g(n,o)},d(e){e&&a(t)}}}function be(e){let t,n,o,r,c,s,d,p=e[0].is_mobile&&he(e);function h(e,t){return e[2]?ye:ve}let g=h(e),v=g(e);function y(t){e[6](t)}let b={optionSet:"generic",i18n:e[1]};return void 0!==e[3]&&(b.showModal=e[3]),c=new pe({props:b}),_.push((()=>function(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}(c,"showModal",y))),c.$on("feedbackSubmitted",e[7]),c.$on("modalClosed",e[5]),{c(){t=u("div"),p&&p.c(),n=f(),o=u("div"),v.c(),r=f(),z(c.$$.fragment),m(o,"class","feedback-controls svelte-mpw268"),m(t,"id","page-feedback"),m(t,"class","svelte-mpw268")},m(e,s){i(e,t,s),p&&p.m(t,null),l(t,n),l(t,o),v.m(o,null),i(e,r,s),I(c,e,s),d=!0},p(e,[r]){e[0].is_mobile?p?p.p(e,r):(p=he(e),p.c(),p.m(t,n)):p&&(p.d(1),p=null),g===(g=h(e))&&v?v.p(e,r):(v.d(1),v=g(e),v&&(v.c(),v.m(o,null)));const l={};var i;2&r&&(l.i18n=e[1]),!s&&8&r&&(s=!0,l.showModal=e[3],i=()=>s=!1,T.push(i)),c.$set(l)},i(e){d||(C(c.$$.fragment,e),d=!0)},o(e){H(c.$$.fragment,e),d=!1},d(e){e&&a(t),p&&p.d(),v.d(),e&&a(r),F(c,e)}}}function $e(e,t,n){let{context:o={is_mobile:!0,page:void 0}}=t,{i18n:r}=t,c=!1,s=!1;return e.$$set=e=>{"context"in e&&n(0,o=e.context),"i18n"in e&&n(1,r=e.i18n)},[o,r,c,s,()=>{n(3,s=!s)},()=>{n(3,s=!1)},function(e){s=e,n(3,s)},()=>{n(2,c=!0)}]}let we=JSON.parse(document.getElementById("js-feedback").getAttribute("data"));void 0!==we.is_mobile&&null!==we.is_mobile||(we.is_mobile=!0);const ke={...JSON.parse(document.getElementById("js-shared").getAttribute("data")).i18n,...we.i18n};return new class extends R{constructor(e){super(),q(this,e,$e,be,c,{context:0,i18n:1})}}({target:document.getElementById("feedback"),props:{context:we,i18n:ke}})}();
